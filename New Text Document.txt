// Hello and thank you very much for your interest. This is a presentation of a few basic JavaScript problems that I tackled on Codewars in preparation for the Northcoders coding bootcamp entry challenge. Although very basic in the eyes of any developer I am sure, I hope they provide an insight into my humble abilities.
// The individual bits of code below will each come with a description of the task they are intended to solve and a few test cases to go with each code for TDD purposes. The test cases are not written by me, they are written by the authors on Codewars that created the tasks to be solved (katas).
// Every solution for the tasks (katas) below has been written solo by me.

// Task 1. Sum of differences in array - Sum the differences between consecutive pairs in an array in descending order.

function sumOfDifferences(arr) {
if (arr.length <= 1) return 0;
let sorted = arr.sort(function(a, b){return b-a});
  let sum = 0;
  for (i = 0; i < sorted.length - 1; i++)
  {
    sum = sum + (sorted[i] - sorted[i+1]); 
  }
return sum;
}

// Test Cases

describe("sumOfDifferences([1, 2, 10]", function() {
  Test.assertEquals(sumOfDifferences([1, 2, 10]), 9);
});

describe("sumOfDifferences([-3, -2, -1])", function() {
  Test.assertEquals(sumOfDifferences([-3, -2, -1]), 2);
});

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

// Task 2. Total amount of points - Our football team finished the championship. The result of each match looks like "x:y". Results of all matches are recorded in the collection. Write a function that takes such collection and counts the points of our team in the championship. if x > y: 3 points, if x < y: 0 point, if x = y: 1 point

function points(games) {
  var sum=0;
  for (var i = 0; i < games.length; i++)
  {
    if (games[i][0] > games[i][2])
      sum+=3;
    if (games[i][0] == games[i][2])
      sum+=1;
  }
  return sum;
}

// Test Cases

describe("Basic tests", function(){
  it("Testing for points(['1:0','2:0','3:0','4:0','2:1','3:1','4:1','3:2','4:2','4:3'])", function(){
    Test.assertEquals(points(["1:0","2:0","3:0","4:0","2:1","3:1","4:1","3:2","4:2","4:3"]) , 30);
  });  
  it("Testing for points(['1:1','2:2','3:3','4:4','2:2','3:3','4:4','3:3','4:4','4:4'])", function(){
    Test.assertEquals(points(["1:1","2:2","3:3","4:4","2:2","3:3","4:4","3:3","4:4","4:4"]) , 10);
  });
  it("Testing for points(['0:1','0:2','0:3','0:4','1:2','1:3','1:4','2:3','2:4','3:4'])", function(){
    Test.assertEquals(points(["0:1","0:2","0:3","0:4","1:2","1:3","1:4","2:3","2:4","3:4"]) , 0);
  });
  it("Testing for points(['1:0','2:0','3:0','4:0','2:1','1:3','1:4','2:3','2:4','3:4'])", function(){
    Test.assertEquals(points(["1:0","2:0","3:0","4:0","2:1","1:3","1:4","2:3","2:4","3:4"]) , 15);
  });
  it("Testing for points(['1:0','2:0','3:0','4:4','2:2','3:3','1:4','2:3','2:4','3:4'])", function(){
    Test.assertEquals(points(["1:0","2:0","3:0","4:4","2:2","3:3","1:4","2:3","2:4","3:4"]) , 12);
  });
});

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

// Task 3. A wolf in sheep's clothing - Wolves have been reintroduced to Great Britain. You are a sheep farmer, and are now plagued by wolves which pretend to be sheep. Fortunately, you are good at spotting them. Warn the sheep in front of the wolf that it is about to be eaten. Remember that you are standing at the front of the queue which is at the end of the array.

function warnTheSheep(queue) {
let N = 0;
for (i = queue.length; i >= 0; i--)
  {
    N++;
    if (queue[i - 1] == "wolf")
    return "Pls go away and stop eating my sheep";
    else if (queue[i - 2] == "wolf") return "Oi! Sheep number " + N + "!" + " You are about to be eaten by a wolf!"
  }
}

// Test Cases

const strictEqual = require('chai').assert.strictEqual;

function doTest (queue, expected) {
	const log = `for queue [${queue.join(', ')}]\n`;
	const actual = warnTheSheep(queue);
	strictEqual(actual, expected, log);
}

describe("Fixed tests", function() {
  it("Tests", function() {
    doTest(["sheep", "sheep", "sheep", "sheep", "sheep", "wolf", "sheep", "sheep"],
		"Oi! Sheep number 2! You are about to be eaten by a wolf!"
	);
    doTest(["sheep", "wolf", "sheep", "sheep", "sheep", "sheep", "sheep"],
		"Oi! Sheep number 5! You are about to be eaten by a wolf!"
	);
    doTest(["wolf", "sheep", "sheep", "sheep", "sheep", "sheep", "sheep"],
		"Oi! Sheep number 6! You are about to be eaten by a wolf!"
	);
    doTest(["sheep", "wolf", "sheep"],
		"Oi! Sheep number 1! You are about to be eaten by a wolf!"
	);
    doTest(["wolf"],
		"Pls go away and stop eating my sheep"
	);
    doTest(["sheep", "sheep", "wolf"],
		"Pls go away and stop eating my sheep"
	);
  });
});

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

// Task 4. Higher-Order Functions Series - Can they code in the same language? - you will be given an array of objects (associative arrays in PHP, tables in COBOL) representing data about developers who have signed up to attend the next coding meetup that you are organising. Your task is to return either: true if all developers in the list code in the same language; or false otherwise.

function isSameLanguage(list) {
let count = 0;
let value = list[0].language;
for (i = 1; i < list.length; i++)
  {
    if (list[i].language == value)
      {
        count++;
      }
  }
  if (count == list.length - 1)
    {
      return true;
    }
return false;
}

// Test Cases

describe("Tests", () => {
  it("test", () => {
var list1 = [
  { firstName: 'Daniel', lastName: 'J.', country: 'Aruba', continent: 'Americas', age: 42, language: 'JavaScript' },
  { firstName: 'Kseniya', lastName: 'T.', country: 'Belarus', continent: 'Europe', age: 22, language: 'JavaScript' },
  { firstName: 'Hanna', lastName: 'L.', country: 'Hungary', continent: 'Europe', age: 65, language: 'JavaScript' },
];

var list2 = [
  { firstName: 'Mariami', lastName: 'G.', country: 'Georgia', continent: 'Europe', age: 29, language: 'Python' },
  { firstName: 'Mia', lastName: 'H.', country: 'Germany', continent: 'Europe', age: 39, language: 'Ruby' },
  { firstName: 'Maria', lastName: 'I.', country: 'Greece', continent: 'Europe', age: 32, language: 'C' },
];

Test.assertEquals(isSameLanguage(list1), true);
Test.assertEquals(isSameLanguage(list2), false);
  });
});

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

// Task 5. Largest 5 digit number in a series - Complete the solution so that it returns the greatest sequence of five consecutive digits found within the number given. The number will be passed in as a string of only digits. It should return a five digit integer. The number passed may be as large as 1000 digits.

function solution(digits){
let sequence = 0;
  for (let i = 5; i <= digits.length; i++) 
  {
    let slice = digits.slice(i - 5, i);
    if (slice > sequence) 
      {
      sequence = slice;
      }
  }
return parseInt(sequence);
}

// Test Cases

const chai = require("chai");
const assert = chai.assert;
chai.config.truncateThreshold=0;

describe("Basic tests", () => {
  it("Testing for fixed tests", () => {
    let number = "7316717653133062491922511967442657474235534919493496983520368542506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753123457977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257540920752963450"
    assert.strictEqual(solution(number), 99890, 'solution did not return correct value')
    assert.strictEqual(solution('1234567898765'), 98765, 'Failed when max 5 digits is at end of number')
    assert.strictEqual(solution("731674765"), 74765, 'Failed in overlapping test')
  });
});

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

// Task 6. Split The Bill - It's tricky keeping track of who is owed what when spending money in a group. Write a function to balance the books. The function should take one parameter: an object/dict with two or more name-value pairs which represent the members of the group and the amount spent by each. The function should return an object/dict with the same names, showing how much money the members should pay or receive.

function splitTheBill(x) {
  var average = 0;
  var count = 0;
  for(item in x)
  {
    average = average + x[item];
    count++;
  }
  average = average / count;  
  for(item in x)
  {
    x[item] = Math.round((x[item] - average) * 100) / 100;
  }
  return x;
}

// Test Cases

describe("Tests", () => {
  it("test", () => {
Test.assertSimilar(splitTheBill({A: 20, B: 15, C: 10}), {A: 5, B: 0, C: -5});
Test.assertSimilar(splitTheBill({A: 40, B: 25, X: 10}), {A: 15, B: 0, X: -15});
  });
});

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

// Task 7. Driving School - Every month, a random number of students take the driving test at Fast & Furious (F&F) Driving School. To pass the test, a student cannot accumulate more than 18 demerit points. At the end of the month, F&F wants to calculate the average demerit points accumulated by ONLY the students who have passed, rounded to the nearest integer. Write a function which would allow them to do so. If no students passed the test that month, return 'No pass scores registered.'.

function passed (list) { 
let sum = 0;
let average = 0;
let count = 0;
  for (i = 0; i < list.length; i++)
  {
    if (list[i] <= 18)
      {
        sum = sum + list[i];
        count++;
      }
  }
average = Math.round(sum / count);
console.log(average);
if (list == [] || count == 0)
  {
    return 'No pass scores registered.';
  }
    else
      {
        return Math.round(average);
      }
  }
  
// Test Cases

describe("Tests", () => {
  it("test", () => {
  Test.assertEquals(passed([10,10,10,18,20,20]),12);
  Test.assertEquals(passed([21,22,24]),'No pass scores registered.');
  Test.assertEquals(passed([3,22,9,13,20,18,2,14,20,8,23,12,7,21,21,19,20,11,18,7,13,22,11,20,9]), 10);
  Test.assertEquals(passed([19,16,8,11,25,10,29,22,23]),11);
  });
});
